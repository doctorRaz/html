---
title: Фильтрация треков GPS на F#
id: fsharp-gps-tracks-filtration
excerpt: Фрагменты лекции, прочитанной в Московском клубе программистов 21 февраля 2019 года.
---

Несколько лет я изучаю функциональное программирование. Первый интерес к теме возник давно, но в конце восьмидеятых и начале девяностых типичная функциональная программа выполнялась слишком медленно на доступных тогда ПК.

В начале двухтысячных ситуация изменилась. В мир пришла Java, запускаемая на *виртуальной машине* с обязательной *сборкой мусора*. С 2003-го я перешёл на C#, форк Java от компании Microsoft. В 2-й версии языка появились *анонимные делегаты*&nbsp;&mdash; предтечи настоящих *лямбда-функций*.

В 2005-м я написал несколько программ на Ruby и был очарован красотой *замыканий*. В 2008-м вышла версия C# 3.5 с подъязыком запросов *LINQ*, *выводом типов* и *деревьями выражений*.

Стало трудно игнорировать функциональные элементы в массовых языках программирования. Сегодня вывод типов и лямбда-функции есть даже в C++.

С другой стороны, истинно функциональное программирование встречается всё ещё нечасто. Языки общего назначения остаются императивными и не требуют функционального подхода.

Я убеждён, что за функциональным программированием будущее, но озадачен материалами по теме. Популярной литературы для простых императивных программистов практически нет. В качестве примеров функциональных программ мы видим вычисление факториалов или чисел Фибоначчи, которые вы вряд ли встретие в реальной практике.

На каких примерах оценить изящество функционального подхода? Мне повезло: я встретил задачу фильтрации треков GPS. С одной стороны она действительно сермяжная, с ней сталкиваются многие мобильные программисты, собирающие треки с телефонов, планшетов или автономных датчиков GPS. С другой&nbsp;&mdash; она математична настолько, что позволяет продемонстрировать мощность функциональных средств.

Я работаю в стеке .NET, поэтому моим функциоанльным языком является F#. Предположу, что вы знаете C#, или знакомы с его ближайшими родственниками C++ или Java.

В этом цикле я буду рассказывать о тех задачах, которые предстоит решить в рамках фильтрации треков. Постарайтесь продумать императивную реализацию, прежде чем посмотреть, как их реализуют на F#. Возможно, вы будете приятно удивлены краткостью функциональных решений.

Тем не менее, мы не будет далеко уходить от стандартов промышленного программирования. Для каждой функции мы напишем необходимые *модульные тесты*, а в конце цикла встроим наше решение в реальный проект.

[Часть I: Удаление нулевых и отрицательных интервалов времени](1)

Часть II: Устранение дрейфа нулевой скорости и всплесков скорости

Часть III: Фильтр Калмана

ЧАсть IV: интеграция с C#, Azure и Xamarin