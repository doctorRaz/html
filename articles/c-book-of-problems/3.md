---
title: Сборник занимательных задач по языку программирования C
subtitle: Часть III
description: Нечеловеческие эксперименты над C и C++.
previous: ../2/
up: ../
id: c-book-of-problems
excerpt: Шуточные и нетривиальные задачи о тонкостях языков C и C++.
---

### Палиндромы

Палиндромами называют слова или предложения, которые одинаково читаются как слева направо, так и справа налево:

> А роза упала на лапу Азора

На C мы можем написать палиндром с помощью макросов:

```c
#define rof     break

void main(void)
{
  ;for(;;)rof;
}
```

Строка читается одинакого в обе стороны и программа компилируется без единой ошибки.

Вот другой пример, где симметричность строки устанавливается не на уровне отдельных символов, а на
уровне лексических единиц:

```c
; return ; return ;
```

Компилятор предупредит нас о недостежимом коде, но программу откомпилирует.


Существует палиндромы в виде квадрата:

|S|A|T|O|R|
|A|R|E|P|O|
|T|E|N|E|T|
|O|P|E|R|A|
|R|O|T|A|S|

&laquo;Sator Arepo tenet opera rotas&raquo; в переводе с латыни означает &laquo;Пахарь Арепо плугом направляет пашню&raquo;.
Эту фразу можно прочитать по вертикали и горизонтали из верхнего левого и из правого нижнего углов.

Вот квадратный палиндром на C:

```c
;    A    /**/ ++  +
A    *    B    +   ++
/**/ B    -    B   /**/
++   +    B    *   A
+    ++   /**/ A   ;
```

А это он же в одну строку без комментариев:

```c
;A++ + A * B + ++B - B++ + B * A + ++A;
```
